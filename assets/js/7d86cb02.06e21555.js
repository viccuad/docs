"use strict";(self.webpackChunkkubewarden_docusaurus=self.webpackChunkkubewarden_docusaurus||[]).push([[8715],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,h=d["".concat(c,".").concat(m)]||d[m]||s[m]||l;return n?r.createElement(h,o(o({ref:t},p),{},{components:n})):r.createElement(h,o({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,o=new Array(l);o[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var u=2;u<l;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6444:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>s,frontMatter:()=>l,metadata:()=>i,toc:()=>u});var r=n(3117),a=(n(7294),n(3905));const l={sidebar_label:"Rancher Fleet",title:""},o="Managing Kubewarden with Rancher Fleet",i={unversionedId:"operator-manual/Rancher-Fleet",id:"operator-manual/Rancher-Fleet",title:"",description:"The Kubewarden Helm charts, as other Helm charts, can be managed via [Rancher",source:"@site/docs/operator-manual/Rancher-Fleet.md",sourceDirName:"operator-manual",slug:"/operator-manual/Rancher-Fleet",permalink:"/operator-manual/Rancher-Fleet",draft:!1,editUrl:"https://github.com/kubewarden/docs/edit/main/docs/operator-manual/Rancher-Fleet.md",tags:[],version:"current",lastUpdatedAt:1673350245,formattedLastUpdatedAt:"Jan 10, 2023",frontMatter:{sidebar_label:"Rancher Fleet",title:""},sidebar:"docs",previous:{title:"Installation",permalink:"/operator-manual/airgap/install"},next:{title:"Security",permalink:"/security/intro"}},c={},u=[{value:"Example",id:"example",level:3}],p={toc:u};function s(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"managing-kubewarden-with-rancher-fleet"},"Managing Kubewarden with Rancher Fleet"),(0,a.kt)("p",null,"The Kubewarden Helm charts, as other Helm charts, can be managed via ",(0,a.kt)("a",{parentName:"p",href:"https://fleet.rancher.io/"},"Rancher\nFleet"),". Rancher Fleet uses Kubernetes CRDs to define\na GitOps approach for managing Kubernetes clusters. It does this by defining\nFleet Bundles."),(0,a.kt)("p",null,"The Kubewarden charts are normal charts, and they have defined dependencies that\nneed to be ready before the dependent chart is deployed:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"First, install ",(0,a.kt)("inlineCode",{parentName:"li"},"cert-manager"),", as it is needed for the Kubewarden stack default config."),(0,a.kt)("li",{parentName:"ul"},"Second, install ",(0,a.kt)("inlineCode",{parentName:"li"},"kubewarden-crds"),", as it is needed for the rest of Kubewarden charts."),(0,a.kt)("li",{parentName:"ul"},"Third, install ",(0,a.kt)("inlineCode",{parentName:"li"},"kubewarden-controller"),", as it is needed by ",(0,a.kt)("inlineCode",{parentName:"li"},"kubewarden-defaults"),"."),(0,a.kt)("li",{parentName:"ul"},"Fourth, install ",(0,a.kt)("inlineCode",{parentName:"li"},"kubewarden-defaults"),".")),(0,a.kt)("p",null,"On Rancher Fleet, one can codify the chart dependencies using\n",(0,a.kt)("a",{parentName:"p",href:"https://fleet.rancher.io/gitrepo-structure#fleetyaml"},(0,a.kt)("inlineCode",{parentName:"a"},"dependsOn")," in the ",(0,a.kt)("em",{parentName:"a"},"fleet.yaml")," file"),"."),(0,a.kt)("p",null,"At the time of writing and by how Rancher Fleet works, one may see transient\nerrors until the charts are ready, such as:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"ErrApplied(1) [Cluster fleet-local/local: dependent bundle(s) are not ready:\n[kubewarden-example-helm-kubewarden-controller]]\n")),(0,a.kt)("p",null,"These errors don't signify a problem, and once each chart has\nfinished deploying, they will be gone."),(0,a.kt)("h3",{id:"example"},"Example"),(0,a.kt)("p",null,"Have a look at ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/kubewarden/fleet-example"},"github.com/kubewarden/fleet-example"),"\nfor an example of Fleet Bundle definitions."))}s.isMDXComponent=!0}}]);